# Workflow 表单数据更新修复测试指南

## 测试步骤

### 1. 测试表单字段更新

1. 打开工作流编辑页面
2. 点击任意节点打开 NodeDetail 面板
3. 在 any-of-kind-field 字段中输入值
4. 验证输入的值是否立即更新（查看控制台日志）

### 2. 测试折叠高级选项

1. 在 NodeDetail 面板中展开"高级选项"
2. 在高级选项中的字段输入一些值
3. 折叠"高级选项"
4. 再次展开"高级选项"
5. 验证之前输入的值是否仍然存在

### 3. 测试关闭重开 NodeDetail

1. 在 NodeDetail 面板中修改一些字段值
2. 关闭 NodeDetail 面板（点击关闭按钮或点击其他区域）
3. 再次点击同一个节点
4. 验证之前修改的值是否仍然保留

## 预期结果

✅ 所有表单字段的更新应该立即生效
✅ 折叠/展开高级选项不应该导致数据丢失
✅ 关闭并重新打开 NodeDetail 应该显示最新的数据

## 关键修复点

1. **使用 ID 管理选中节点**：确保始终获取最新的节点数据
2. **移除 React.memo**：确保组件能正确响应数据变化
3. **优化 onChange 事件**：移除 onBlur，确保数据立即更新

## 调试提示

如果遇到问题，可以查看控制台日志：

- `handleFormChange` - 表单数据更新时的日志
- `anyof-kind-field props` - AnyOfKindField 组件接收的 props
